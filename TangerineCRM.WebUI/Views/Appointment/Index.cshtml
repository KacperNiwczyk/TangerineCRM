@model TangerineCRM.WebUI.Models.AppointmentViewModel
@using TangerineCRM.Core.Helpers
@using TangerineCRM.Entities
@{
    ViewBag.Title = "Index";
Layout = "~/Views/Shared/_Layout.cshtml";
}
@Styles.Render("~/Content/table")
<h2>Spotkania</h2>
<table class="table">
    <tr>
        <th>
            <br />
            Klient
        </th>
        <th>
            <br />
            Przedstawiciela
        </th>
        <th>
            Data
        </th>
        <th>
            Typ
        </th>
        <th>
            Wydarzenie
        </th>
        <th>
            Rezultat
        </th>
        <th>
            Notka
        </th>
        <th>
            <a href="@Url.Action("Create", "Appointment")" class="icon-add" />
        </th>
    </tr>

    @foreach (var item in Model.AppointmentList)
    {
        <tr>
            <td>
                @item.Contractor.GetFullContractorName()
            </td>
            <td>
                @item.SalesRepresentative.GetRepresentativeFullName()
            </td>
            <td>
                @item.Date.ToString("dd-MM-yyyy")
            </td>
            <td>
                @item.Type.GetStringValue()
            </td>
            <td>
                @item.Event.GetStringValue()
            </td>
            <td>
                @item.Result.GetStringValue()
            </td>
            <td>
                @item.Note
            </td>
            <td>
                <a href="@Url.Action("Update", "Appointment", new {id = item.AppointmentId})" class="icon-update" />
                <a href="@Url.Action("Delete", "Appointment", new {id = item.AppointmentId})" class="icon-delete" />
            </td>
        </tr>
    }

</table>
